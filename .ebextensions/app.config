option_settings:
  - option_name: BUNDLE_DISABLE_SHARED_GEMS
    value: "1"
  - option_name: BUNDLE_PATH
    value: "vendor/bundle"
packages:
  yum:
    git: []
# these commands run before the application and web server are
# set up and the application version file is extracted
commands:
#   01_node_install:
#     # run this command from /tmp directory
#     cwd: /tmp
#     # don't run the command if node is already installed (file /usr/bin/node exists)
#     test: '[ ! -f /usr/bin/node ] && echo "node not installed"'
#     # install from epel repository
#     # flag -y for no-interaction installation
#     command: 'yum install -y nodejs --enablerepo=epel'
  02_make_home_webapp:
    test: '[ ! -d /home/webapp ] && echo "/home/webapp is not directory"'
    command: 'sudo mkdir /home/webapp && sudo chown webapp /home/webapp'
  03_npm_install_bower:
    test: '[ ! -x /usr/bin/bower ] && echo "bower not installed"'
    command: 'sudo npm install -g bower'
container_commands:
  01_bower_install:
    cwd: $ember_app
    command: 'bower install'
